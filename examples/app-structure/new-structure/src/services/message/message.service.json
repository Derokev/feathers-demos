{
  "name": "messages",
  "require": "feathers-mongodb",
  "options": {
    "Model": "./message.model",
    "paginate": {
      "default": 5,
      "max": 20
    }
  },
  "before": {
    "all": [
      { "require": "feathers-authentication/hooks/verify-token" },
      { "require": "feathers-authentication/hooks/populate-user" },
      { "require": "feathers-authentication/hooks/restrict-to-authenticated" }
    ],
    "create": [
      { "require": "./hooks/process" }
    ],
    "update": [
      {
        "require": "feathers-hooks/hooks/remove",
        "options": {
          "fields": ["sentBy"]
        }
      },
      { "require": "./hooks/restrict-to-sender" }
    ],
    "patch": [
      {
        "require": "feathers-hooks/hooks/remove",
        "options": {
          "fields": ["sentBy"]
        }
      },
      { "require": "./hooks/restrict-to-sender" }
    ]
  },
  "after": {
    "find": [
      {
        "require": "feathers-hooks/hooks/remove",
        "options": {
          "fields": ["sentBy"]
        }
      }
    ],
    "get": [
    ],
    "create": [
      { "require": "./hooks/send-welcome" }
    ]
  }
}